:root {
  /* Base tokens */
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;

  /* Light theme colors */
  --color-bg-post-light: #f8f8f8;
  --color-bg-note-light: #f4f1e4;
  --color-bg-code-note-light: #e8e5d8;
  --color-ink-light-theme: #2d3436;
  --color-ink-light-light: #636e72;
  --color-accent-light: #0984e3;
  --color-link-light: var(--color-accent-light);
  --color-border-light: #b4b4b4;
  --color-highlight-light: color-mix(
    in srgb,
    var(--color-accent-light) 50%,
    transparent
  );

  /* Dark mode colors */
  --color-bg-note-dark: #1c1b17;
  --color-bg-code-note-dark: #2a2925;
  --color-ink-dark: #cccccc;
  --color-ink-light-dark: #a8a8a8;
  --color-accent-dark: #4dabf7;
  --color-link-dark: var(--color-accent-dark);
  --color-border-dark: #4a4a4a;
  --color-bg-dark: var(--color-bg-note-dark);
  --color-bg-code-dark: var(--color-bg-code-note-dark);
  --color-highlight-dark: color-mix(
    in srgb,
    var(--color-accent-dark) 50%,
    transparent
  );

  /* Colors - set light theme as default to prevent flash */
  --color-bg: var(--color-bg-note-light);
  --color-bg-code: var(--color-bg-code-note-light);
  --color-bg-hover: color-mix(
    in srgb,
    var(--color-bg-code-note-light) 70%,
    var(--color-accent-light) 30%
  );
  --color-ink: var(--color-ink-light-theme);
  --color-ink-light: var(--color-ink-light-light);
  --color-accent: var(--color-accent-light);
  --color-link: var(--color-link-light);
  --color-border: var(--color-border-light);
  --color-highlight: var(--color-highlight-light);

  /* Typography */
  --font-primary: 'Futura';
  --font-prose: 'Inter', 'Helvetica Neue', 'Arial', sans-serif;
  --font-ui: system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Font Sizes */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
}

/* Light theme class override */
:root.light {
  --color-bg: var(--color-bg-note-light);
  --color-bg-code: var(--color-bg-code-note-light);
  --color-ink: var(--color-ink-light-theme);
  --color-ink-light: var(--color-ink-light-light);
  --color-accent: var(--color-accent-light);
  --color-link: var(--color-link-light);
  --color-border: var(--color-border-light);
  --color-highlight: var(--color-highlight-light);
}

/* Invert D2 diagrams in dark mode */
:root.dark img[src*='/d2/'] {
  filter: invert(1) hue-rotate(180deg);
}

/* Dark theme class override */
:root.dark {
  --color-bg: var(--color-bg-note-dark);
  --color-bg-code: var(--color-bg-code-note-dark);
  --color-bg-hover: color-mix(
    in srgb,
    var(--color-bg-code-note-dark) 70%,
    var(--color-accent-dark) 30%
  );
  --color-ink: var(--color-ink-dark);
  --color-ink-light: var(--color-ink-light-dark);
  --color-accent: var(--color-accent-dark);
  --color-link: var(--color-link-dark);
  --color-border: var(--color-border-dark);
  --color-highlight: var(--color-highlight-dark);
}

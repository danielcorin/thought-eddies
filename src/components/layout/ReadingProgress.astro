<div class="reading-progress">
    <div class="progress-bar"></div>
</div>

<script>
    const progressBar = document.querySelector(".progress-bar");
    const content = document.querySelector("article");

    const updateProgress = () => {
        if (!content || !progressBar) return;

        const scrollPosition = window.scrollY;
        const contentHeight = content.offsetHeight - window.innerHeight;
        const progress = (scrollPosition / contentHeight) * 100;

        (progressBar as HTMLElement).style.width =
            `${Math.min(100, Math.max(0, progress))}%`;
    };

    window.addEventListener("scroll", updateProgress);
    window.addEventListener("resize", updateProgress);
    updateProgress();
</script>

<style>
    .reading-progress {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--color-bg);
        z-index: 1000;
    }

    .progress-bar {
        height: 100%;
        background: var(--color-ink);
        width: 0;
        transition: width 100ms ease-out;
    }
</style>
